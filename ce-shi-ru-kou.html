<!DOCTYPE html><html lang="en-gb"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>测试入口 - WX&#x27;s Dev Diary</title><meta name="description" content="test test 测试测试 哈哈哈 Nginx (engine x) 是一款轻量级的 Web 服务器 、反向代理服务器及电子邮件（IMAP/POP3）代理服务器。 官网：https://nginx.org/ 反向代理（Reverse Proxy）方式是指以代理服务器来接受 internet 上的连接请求，然后将请求转发给内部网络上的服务器，并将从服务器上得到的结果返回给 internet 上请求连接的客户端，此时代理服务器对外就表现为一个反向代理服务器。 下载https://nginx.org/en/download.html linux版本的 nginx 需要 执行makefile编译一下，而windows下的nginx 直接下载解压后安装即可 nginx -s stop 快速关闭Nginx，可能不保存相关信息，并迅速终止web服务。 nginx -s quit 平稳关闭Nginx，保存相关信息，有安排的结束web服务。 nginx -s reload 因改变了Nginx相关配置，需要重新加载配置而重载。 nginx -s reopen 重新打开日志文件。 nginx -c filename 为 Nginx&hellip;"><meta name="generator" content="Publii Open-Source CMS for Static Site"><link rel="canonical" href="https://github.com/wangxxss/WX-Dev-Diary/ce-shi-ru-kou.html"><link rel="alternate" type="application/atom+xml" href="https://github.com/wangxxss/WX-Dev-Diary/feed.xml"><link rel="alternate" type="application/json" href="https://github.com/wangxxss/WX-Dev-Diary/feed.json"><meta property="og:title" content="测试入口"><meta property="og:site_name" content="WX's Dev Diary"><meta property="og:description" content="test test 测试测试 哈哈哈 Nginx (engine x) 是一款轻量级的 Web 服务器 、反向代理服务器及电子邮件（IMAP/POP3）代理服务器。 官网：https://nginx.org/ 反向代理（Reverse Proxy）方式是指以代理服务器来接受 internet 上的连接请求，然后将请求转发给内部网络上的服务器，并将从服务器上得到的结果返回给 internet 上请求连接的客户端，此时代理服务器对外就表现为一个反向代理服务器。 下载https://nginx.org/en/download.html linux版本的 nginx 需要 执行makefile编译一下，而windows下的nginx 直接下载解压后安装即可 nginx -s stop 快速关闭Nginx，可能不保存相关信息，并迅速终止web服务。 nginx -s quit 平稳关闭Nginx，保存相关信息，有安排的结束web服务。 nginx -s reload 因改变了Nginx相关配置，需要重新加载配置而重载。 nginx -s reopen 重新打开日志文件。 nginx -c filename 为 Nginx&hellip;"><meta property="og:url" content="https://github.com/wangxxss/WX-Dev-Diary/ce-shi-ru-kou.html"><meta property="og:type" content="article"><link rel="stylesheet" href="https://github.com/wangxxss/WX-Dev-Diary/assets/css/style.css?v=4128e7e1a641a287245dedc222b18c79"><script type="application/ld+json">{"@context":"http://schema.org","@type":"Article","mainEntityOfPage":{"@type":"WebPage","@id":"https://github.com/wangxxss/WX-Dev-Diary/ce-shi-ru-kou.html"},"headline":"测试入口","datePublished":"2023-10-24T14:26","dateModified":"2023-10-24T14:27","description":"test test 测试测试 哈哈哈 Nginx (engine x) 是一款轻量级的 Web 服务器 、反向代理服务器及电子邮件（IMAP/POP3）代理服务器。 官网：https://nginx.org/ 反向代理（Reverse Proxy）方式是指以代理服务器来接受 internet 上的连接请求，然后将请求转发给内部网络上的服务器，并将从服务器上得到的结果返回给 internet 上请求连接的客户端，此时代理服务器对外就表现为一个反向代理服务器。 下载https://nginx.org/en/download.html linux版本的 nginx 需要 执行makefile编译一下，而windows下的nginx 直接下载解压后安装即可 nginx -s stop 快速关闭Nginx，可能不保存相关信息，并迅速终止web服务。 nginx -s quit 平稳关闭Nginx，保存相关信息，有安排的结束web服务。 nginx -s reload 因改变了Nginx相关配置，需要重新加载配置而重载。 nginx -s reopen 重新打开日志文件。 nginx -c filename 为 Nginx&hellip;","author":{"@type":"Person","name":"wxxss","url":"https://github.com/wangxxss/WX-Dev-Diary/authors/wxxss/"},"publisher":{"@type":"Organization","name":"wxxss"}}</script></head><body><div class="site-container"><header class="top" id="js-header"><a class="logo" href="https://github.com/wangxxss/WX-Dev-Diary/">WX&#x27;s Dev Diary</a></header><main><article class="post"><div class="hero"><header class="hero__content"><div class="wrapper"><div class="post__meta"><time datetime="2023-10-24T14:26">October 24, 2023</time></div><h1>测试入口</h1><div class="post__meta post__meta--author"><a href="https://github.com/wangxxss/WX-Dev-Diary/authors/wxxss/" class="feed__author">wxxss</a></div></div></header></div><div class="wrapper post__entry"><p>test </p><p> </p><hr><p>test</p><p> </p><p>测试测试 哈哈哈</p><p> </p><div><div># 敏捷软件开发原则、模式与实践</div><br><div>## 敏捷实践</div><br><div>### 敏捷软件开发宣言</div><br><div>- 个体和交互胜过过程和工具</div><div>- 可以工作的软件胜过面面俱到的文档</div><div>- 客户合作胜过合同谈判</div><div>- 响应变化胜过遵循计划</div><div>-</div><div> </div><div><h1 class="md-end-block md-heading"><span class="md-plain md-expand">Nginx</span></h1><p class="md-end-block md-p"><span class="md-pair-s"><strong><span class="md-plain">Nginx (engine x)</span></strong></span><span class="md-plain"> 是一款轻量级的 Web 服务器 、反向代理服务器及电子邮件（IMAP/POP3）代理服务器。</span></p><p class="md-end-block md-p"><span class="md-plain">官网：</span><span class="md-link md-pair-s" spellcheck="false"><a href="https://nginx.org/">https://nginx.org/</a></span></p><p class="md-end-block md-p"><span class="md-image md-img-loaded" data-src="nginx学习笔记.assets/nginx-1697160604466.jpg"><img loading="lazy" src="file:///D:/pc/Documents/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E5%88%86%E4%BA%AB%E6%96%87%E6%A1%A3/nginx/nginx%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.assets/nginx-1697160604466.jpg?lastModify=1698128843" data-is-external-image="true" alt="nginx"></span></p><h2 class="md-end-block md-heading"><span class="md-plain">反向代理</span></h2><p class="md-end-block md-p md-focus"><span class="md-plain">反向代理（Reverse Proxy）方式是指以代理服务器来接受 internet 上的连接请求，然后将请求转发给内部网络上的服务器，并将从服务器上得到的结果返回给 internet 上请求连接的客户端，此时代理服务器对外就表现为一个反向代理服务器。</span></p><p class="md-end-block md-p"><span class="md-image md-img-loaded md-expand" data-src="nginx学习笔记.assets/reverse-proxy.png"><img loading="lazy" src="file:///D:/pc/Documents/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E5%88%86%E4%BA%AB%E6%96%87%E6%A1%A3/nginx/nginx%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.assets/reverse-proxy.png?lastModify=1698128843" data-is-external-image="true" alt="reverse-proxy"></span></p><h2 class="md-end-block md-heading"><span class="md-plain">Nginx安装</span></h2><p class="md-end-block md-p"><span class="md-plain">下载</span><span class="md-link md-pair-s" spellcheck="false"><a href="https://nginx.org/en/download.html">https://nginx.org/en/download.html</a></span></p><p class="md-end-block md-p"><span class="md-image md-img-loaded" data-src="nginx学习笔记.assets/image-20231013093254307.png"><img loading="lazy" src="file:///D:/pc/Documents/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E5%88%86%E4%BA%AB%E6%96%87%E6%A1%A3/nginx/nginx%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.assets/image-20231013093254307.png?lastModify=1698128843" data-is-external-image="true" alt="image-20231013093254307"></span></p><p class="md-end-block md-p"><span class="md-plain">linux版本的 nginx 需要 执行makefile编译一下，而windows下的nginx 直接下载解压后安装即可</span></p><p class="md-end-block md-p"><span class="md-image md-img-loaded" data-src="nginx学习笔记.assets/image-20231013093405680.png"><img loading="lazy" src="file:///D:/pc/Documents/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E5%88%86%E4%BA%AB%E6%96%87%E6%A1%A3/nginx/nginx%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.assets/image-20231013093405680.png?lastModify=1698128843" data-is-external-image="true" alt="image-20231013093405680"></span></p><h2 class="md-end-block md-heading"><span class="md-plain">Nginx命令</span></h2><pre class="md-fences md-end-block ty-contain-cm modeLoaded" lang="shell" spellcheck="false"><span role="presentation">nginx <span class="cm-attribute">-s</span> <span class="cm-builtin">stop</span>       快速关闭Nginx，可能不保存相关信息，并迅速终止web服务。</span><br><span role="presentation">nginx <span class="cm-attribute">-s</span> quit       平稳关闭Nginx，保存相关信息，有安排的结束web服务。</span><br><span role="presentation">nginx <span class="cm-attribute">-s</span> reload     因改变了Nginx相关配置，需要重新加载配置而重载。</span><br><span role="presentation">nginx <span class="cm-attribute">-s</span> reopen     重新打开日志文件。</span><br><span role="presentation">nginx <span class="cm-attribute">-c</span> filename   为 Nginx 指定一个配置文件，来代替缺省的。</span><br><span role="presentation">nginx <span class="cm-attribute">-t</span>            不运行，仅仅测试配置文件。nginx 将检查配置文件的语法的正确性，并尝试打开配置文件中所引用到的文件。</span><br><span role="presentation">nginx <span class="cm-attribute">-v</span>            显示 nginx 的版本。</span><br><span role="presentation">nginx <span class="cm-attribute">-V</span>            显示 nginx 的版本，编译器版本和配置参数。</span></pre><p class="md-end-block md-p"><span class="md-plain">windows下面的话，双击即启动，守护进程的方式，没有页面。也可以写一个bat文件的方式使用命令行处理。</span></p><p class="md-end-block md-p"><span class="md-image md-img-loaded" data-src="nginx学习笔记.assets/image-20231013093634613.png"><img loading="lazy" src="file:///D:/pc/Documents/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E5%88%86%E4%BA%AB%E6%96%87%E6%A1%A3/nginx/nginx%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.assets/image-20231013093634613.png?lastModify=1698128843" data-is-external-image="true" alt="image-20231013093634613"></span></p><h2 class="md-end-block md-heading"><span class="md-plain">配置</span></h2><p class="md-end-block md-p"><span class="md-plain">在nginx目录下的conf目录中，有默认的配置文件 nginx.conf，也可以在启动命令的时候，使用 nginx -c命令行指定其他配置文件</span></p><pre class="md-fences md-end-block ty-contain-cm modeLoaded" lang="c" spellcheck="false"><span role="presentation"><span class="cm-meta">#运行用户</span></span><br><span role="presentation"><span class="cm-meta">#user somebody;</span></span><br><span role="presentation">​</span><br><span role="presentation"><span class="cm-meta">#启动进程,通常设置成和cpu的数量相等</span></span><br><span role="presentation"><span class="cm-variable">worker_processes</span>  <span class="cm-number">1</span>;</span><br><span role="presentation">​</span><br><span role="presentation"><span class="cm-meta">#全局错误日志</span></span><br><span role="presentation"><span class="cm-variable">error_log</span>  <span class="cm-variable">D</span>:<span class="cm-operator">/</span><span class="cm-variable">Tools</span><span class="cm-operator">/</span><span class="cm-variable">nginx</span><span class="cm-operator">-</span><span class="cm-number">1.10</span>.<span class="cm-number">1</span><span class="cm-operator">/</span><span class="cm-variable">logs</span><span class="cm-operator">/</span><span class="cm-variable">error</span>.<span class="cm-variable">log</span>;</span><br><span role="presentation"><span class="cm-variable">error_log</span>  <span class="cm-variable">D</span>:<span class="cm-operator">/</span><span class="cm-variable">Tools</span><span class="cm-operator">/</span><span class="cm-variable">nginx</span><span class="cm-operator">-</span><span class="cm-number">1.10</span>.<span class="cm-number">1</span><span class="cm-operator">/</span><span class="cm-variable">logs</span><span class="cm-operator">/</span><span class="cm-variable">notice</span>.<span class="cm-variable">log</span>  <span class="cm-variable">notice</span>;</span><br><span role="presentation"><span class="cm-variable">error_log</span>  <span class="cm-variable">D</span>:<span class="cm-operator">/</span><span class="cm-variable">Tools</span><span class="cm-operator">/</span><span class="cm-variable">nginx</span><span class="cm-operator">-</span><span class="cm-number">1.10</span>.<span class="cm-number">1</span><span class="cm-operator">/</span><span class="cm-variable">logs</span><span class="cm-operator">/</span><span class="cm-variable">info</span>.<span class="cm-variable">log</span>  <span class="cm-variable">info</span>;</span><br><span role="presentation">​</span><br><span role="presentation"><span class="cm-meta">#PID文件，记录当前启动的nginx的进程ID</span></span><br><span role="presentation"><span class="cm-variable">pid</span>        <span class="cm-variable">D</span>:<span class="cm-operator">/</span><span class="cm-variable">Tools</span><span class="cm-operator">/</span><span class="cm-variable">nginx</span><span class="cm-operator">-</span><span class="cm-number">1.10</span>.<span class="cm-number">1</span><span class="cm-operator">/</span><span class="cm-variable">logs</span><span class="cm-operator">/</span><span class="cm-variable">nginx</span>.<span class="cm-variable">pid</span>;</span><br><span role="presentation">​</span><br><span role="presentation"><span class="cm-meta">#工作模式及连接数上限</span></span><br><span role="presentation"><span class="cm-variable">events</span> {</span><br><span role="presentation">    <span class="cm-variable">worker_connections</span> <span class="cm-number">1024</span>;    <span class="cm-variable">#单个后台worker</span> <span class="cm-variable">process进程的最大并发链接数</span></span><br><span role="presentation">}</span><br><span role="presentation">​</span><br><span role="presentation"><span class="cm-meta">#设定http服务器，利用它的反向代理功能提供负载均衡支持</span></span><br><span role="presentation"><span class="cm-variable">http</span> {</span><br><span role="presentation">    <span class="cm-meta">#设定mime类型(邮件支持类型),类型由mime.types文件定义</span></span><br><span role="presentation">    <span class="cm-variable">include</span>       <span class="cm-variable">D</span>:<span class="cm-operator">/</span><span class="cm-variable">Tools</span><span class="cm-operator">/</span><span class="cm-variable">nginx</span><span class="cm-operator">-</span><span class="cm-number">1.10</span>.<span class="cm-number">1</span><span class="cm-operator">/</span><span class="cm-variable">conf</span><span class="cm-operator">/</span><span class="cm-variable">mime</span>.<span class="cm-variable">types</span>;</span><br><span role="presentation">    <span class="cm-variable">default_type</span>  <span class="cm-variable">application</span><span class="cm-operator">/</span><span class="cm-variable">octet</span><span class="cm-operator">-</span><span class="cm-variable">stream</span>;</span><br><span role="presentation">​</span><br><span role="presentation">    <span class="cm-meta">#设定日志</span></span><br><span role="presentation">    <span class="cm-variable">log_format</span>  <span class="cm-variable">main</span>  <span class="cm-string">'[$remote_addr] - [$remote_user] [$time_local] "$request" '</span></span><br><span role="presentation">                      <span class="cm-string">'$status $body_bytes_sent "$http_referer" '</span></span><br><span role="presentation">                      <span class="cm-string">'"$http_user_agent" "$http_x_forwarded_for"'</span>;</span><br><span role="presentation">​</span><br><span role="presentation">    <span class="cm-variable">access_log</span>    <span class="cm-variable">D</span>:<span class="cm-operator">/</span><span class="cm-variable">Tools</span><span class="cm-operator">/</span><span class="cm-variable">nginx</span><span class="cm-operator">-</span><span class="cm-number">1.10</span>.<span class="cm-number">1</span><span class="cm-operator">/</span><span class="cm-variable">logs</span><span class="cm-operator">/</span><span class="cm-variable">access</span>.<span class="cm-variable">log</span> <span class="cm-variable">main</span>;</span><br><span role="presentation">    <span class="cm-variable">rewrite_log</span>     <span class="cm-variable">on</span>;</span><br><span role="presentation">​</span><br><span role="presentation">    <span class="cm-meta">#sendfile 指令指定 nginx 是否调用 sendfile 函数（zero copy 方式）来输出文件，对于普通应用，</span></span><br><span role="presentation">    <span class="cm-meta">#必须设为 on,如果用来进行下载等应用磁盘IO重负载应用，可设置为 off，以平衡磁盘与网络I/O处理速度，降低系统的uptime.</span></span><br><span role="presentation">    <span class="cm-variable">sendfile</span>        <span class="cm-variable">on</span>;</span><br><span role="presentation">    <span class="cm-meta">#tcp_nopush     on;</span></span><br><span role="presentation">​</span><br><span role="presentation">    <span class="cm-meta">#连接超时时间</span></span><br><span role="presentation">    <span class="cm-variable">keepalive_timeout</span>  <span class="cm-number">120</span>;</span><br><span role="presentation">    <span class="cm-variable">tcp_nodelay</span>        <span class="cm-variable">on</span>;</span><br><span role="presentation">​</span><br><span role="presentation">    <span class="cm-meta">#gzip压缩开关</span></span><br><span role="presentation">    <span class="cm-meta">#gzip  on;</span></span><br><span role="presentation">​</span><br><span role="presentation">    <span class="cm-meta">#设定实际的服务器列表</span></span><br><span role="presentation">    <span class="cm-variable">upstream</span> <span class="cm-variable">zp_server1</span>{</span><br><span role="presentation">        <span class="cm-variable">server</span> <span class="cm-number">127.0</span>.<span class="cm-number">0.1</span>:<span class="cm-number">8089</span>;</span><br><span role="presentation">    }</span><br><span role="presentation">​</span><br><span role="presentation">    <span class="cm-meta">#HTTP服务器</span></span><br><span role="presentation">    <span class="cm-variable">server</span> {</span><br><span role="presentation">        <span class="cm-meta">#监听80端口，80端口是知名端口号，用于HTTP协议</span></span><br><span role="presentation">        <span class="cm-variable">listen</span>       <span class="cm-number">80</span>;</span><br><span role="presentation">​</span><br><span role="presentation">        <span class="cm-meta">#定义使用www.xx.com访问</span></span><br><span role="presentation">        <span class="cm-variable">server_name</span>  <span class="cm-variable">www</span>.<span class="cm-variable">helloworld</span>.<span class="cm-variable">com</span>;</span><br><span role="presentation">​</span><br><span role="presentation">        <span class="cm-meta">#首页</span></span><br><span role="presentation">        <span class="cm-variable">index</span> <span class="cm-variable">index</span>.<span class="cm-variable">html</span></span><br><span role="presentation">​</span><br><span role="presentation">        <span class="cm-meta">#指向webapp的目录</span></span><br><span role="presentation">        <span class="cm-variable">root</span> <span class="cm-variable">D</span>:<span class="cm-variable">\01_Workspace\Project\github\zp\SpringNotes\spring</span><span class="cm-operator">-</span><span class="cm-variable">security\spring</span><span class="cm-operator">-</span><span class="cm-variable">shiro\src\main\webapp</span>;</span><br><span role="presentation">​</span><br><span role="presentation">        <span class="cm-meta">#编码格式</span></span><br><span role="presentation">        <span class="cm-variable">charset</span> <span class="cm-variable">utf</span><span class="cm-operator">-</span><span class="cm-number">8</span>;</span><br><span role="presentation">​</span><br><span role="presentation">        <span class="cm-meta">#代理配置参数</span></span><br><span role="presentation">        <span class="cm-variable">proxy_connect_timeout</span> <span class="cm-number">180</span>;</span><br><span role="presentation">        <span class="cm-variable">proxy_send_timeout</span> <span class="cm-number">180</span>;</span><br><span role="presentation">        <span class="cm-variable">proxy_read_timeout</span> <span class="cm-number">180</span>;</span><br><span role="presentation">        <span class="cm-variable">proxy_set_header</span> <span class="cm-variable">Host</span> <span class="cm-variable">$host</span>;</span><br><span role="presentation">        <span class="cm-variable">proxy_set_header</span> <span class="cm-variable">X</span><span class="cm-operator">-</span><span class="cm-variable">Forwarder</span><span class="cm-operator">-</span><span class="cm-variable">For</span> <span class="cm-variable">$remote_addr</span>;</span><br><span role="presentation">​</span><br><span role="presentation">        <span class="cm-meta">#反向代理的路径（和upstream绑定），location 后面设置映射的路径</span></span><br><span role="presentation">        <span class="cm-variable">location</span> <span class="cm-operator">/</span> {</span><br><span role="presentation">            <span class="cm-variable">proxy_pass</span> <span class="cm-variable">http</span>:<span class="cm-comment">//zp_server1;</span></span><br><span role="presentation">        }</span><br><span role="presentation">​</span><br><span role="presentation">        <span class="cm-meta">#静态文件，nginx自己处理</span></span><br><span role="presentation">        <span class="cm-variable">location</span> <span class="cm-variable">~</span> <span class="cm-variable">^</span><span class="cm-operator">/</span>(<span class="cm-variable">images</span><span class="cm-operator">|</span><span class="cm-variable">javascript</span><span class="cm-operator">|</span><span class="cm-variable">js</span><span class="cm-operator">|</span><span class="cm-variable">css</span><span class="cm-operator">|</span><span class="cm-variable">flash</span><span class="cm-operator">|</span><span class="cm-variable">media</span><span class="cm-operator">|</span><span class="cm-keyword">static</span>)<span class="cm-operator">/</span> {</span><br><span role="presentation">            <span class="cm-variable">root</span> <span class="cm-variable">D</span>:<span class="cm-variable">\01_Workspace\Project\github\zp\SpringNotes\spring</span><span class="cm-operator">-</span><span class="cm-variable">security\spring</span><span class="cm-operator">-</span><span class="cm-variable">shiro\src\main\webapp\views</span>;</span><br><span role="presentation">            <span class="cm-meta">#过期30天，静态文件不怎么更新，过期可以设大一点，如果频繁更新，则可以设置得小一点。</span></span><br><span role="presentation">            <span class="cm-variable">expires</span> <span class="cm-number">30</span><span class="cm-variable">d</span>;</span><br><span role="presentation">        }</span><br><span role="presentation">​</span><br><span role="presentation">        <span class="cm-meta">#设定查看Nginx状态的地址</span></span><br><span role="presentation">        <span class="cm-variable">location</span> <span class="cm-operator">/</span><span class="cm-variable">NginxStatus</span> {</span><br><span role="presentation">            <span class="cm-variable">stub_status</span>           <span class="cm-variable">on</span>;</span><br><span role="presentation">            <span class="cm-variable">access_log</span>            <span class="cm-variable">on</span>;</span><br><span role="presentation">            <span class="cm-variable">auth_basic</span>            <span class="cm-string">"NginxStatus"</span>;</span><br><span role="presentation">            <span class="cm-variable">auth_basic_user_file</span>  <span class="cm-variable">conf</span><span class="cm-operator">/</span><span class="cm-variable">htpasswd</span>;</span><br><span role="presentation">        }</span><br><span role="presentation">​</span><br><span role="presentation">        <span class="cm-meta">#禁止访问 .htxxx 文件</span></span><br><span role="presentation">        <span class="cm-variable">location</span> <span class="cm-variable">~</span> <span class="cm-operator">/</span><span class="cm-variable">\</span>.<span class="cm-variable">ht</span> {</span><br><span role="presentation">            <span class="cm-variable">deny</span> <span class="cm-variable">all</span>;</span><br><span role="presentation">        }</span><br><span role="presentation">​</span><br><span role="presentation">        <span class="cm-meta">#错误处理页面（可选择性配置）</span></span><br><span role="presentation">        <span class="cm-meta">#error_page   404              /404.html;</span></span><br><span role="presentation">        <span class="cm-meta">#error_page   500 502 503 504  /50x.html;</span></span><br><span role="presentation">        <span class="cm-meta">#location = /50x.html {</span></span><br><span role="presentation">        <span class="cm-meta">#    root   html;</span></span><br><span role="presentation">        <span class="cm-meta">#}</span></span><br><span role="presentation">    }</span><br><span role="presentation">}</span></pre><h2 class="md-end-block md-heading"><span class="md-plain">Https的反向代理</span></h2><p class="md-end-block md-p"><span class="md-plain">一些对安全性要求比较高的站点，可能会使用 HTTPS（一种使用 ssl 通信标准的安全 HTTP 协议）。</span></p><p class="md-end-block md-p"><span class="md-plain">这里不科普 HTTP 协议和 SSL 标准。但是，使用 nginx 配置 https 需要知道几点：</span></p><ul class="ul-list" data-mark="-"><li class="md-list-item"><p class="md-end-block md-p"><span class="md-plain">HTTPS 的固定端口号是 443，不同于 HTTP 的 80 端口</span></p></li><li class="md-list-item"><p class="md-end-block md-p"><span class="md-plain">SSL 标准需要引入安全证书，所以在 nginx.conf 中你需要指定证书和它对应的 key</span></p></li></ul><p class="md-end-block md-p"><span class="md-plain">其他和 http 反向代理基本一样，只是在 </span><span class="md-pair-s" spellcheck="false"><code>Server</code></span><span class="md-plain"> 部分配置有些不同。</span></p><pre class="md-fences md-end-block ty-contain-cm modeLoaded" lang="c" spellcheck="false"><span role="presentation">  <span class="cm-meta">#HTTP服务器</span></span><br><span role="presentation">  <span class="cm-variable">server</span> {</span><br><span role="presentation">      <span class="cm-meta">#监听443端口。443为知名端口号，主要用于HTTPS协议</span></span><br><span role="presentation">      <span class="cm-variable">listen</span>       <span class="cm-number">443</span> <span class="cm-variable">ssl</span>;</span><br><span role="presentation">​</span><br><span role="presentation">      <span class="cm-meta">#定义使用www.xx.com访问</span></span><br><span role="presentation">      <span class="cm-variable">server_name</span>  <span class="cm-variable">www</span>.<span class="cm-variable">helloworld</span>.<span class="cm-variable">com</span>;</span><br><span role="presentation">​</span><br><span role="presentation">      <span class="cm-meta">#ssl证书文件位置(常见证书文件格式为：crt/pem)</span></span><br><span role="presentation">      <span class="cm-variable">ssl_certificate</span>      <span class="cm-variable">cert</span>.<span class="cm-variable">pem</span>;</span><br><span role="presentation">      <span class="cm-meta">#ssl证书key位置</span></span><br><span role="presentation">      <span class="cm-variable">ssl_certificate_key</span>  <span class="cm-variable">cert</span>.<span class="cm-variable">key</span>;</span><br><span role="presentation">​</span><br><span role="presentation">      <span class="cm-meta">#ssl配置参数（选择性配置）</span></span><br><span role="presentation">      <span class="cm-variable">ssl_session_cache</span>    <span class="cm-variable">shared</span>:<span class="cm-variable">SSL</span>:<span class="cm-number">1</span><span class="cm-variable">m</span>;</span><br><span role="presentation">      <span class="cm-variable">ssl_session_timeout</span>  <span class="cm-number">5</span><span class="cm-variable">m</span>;</span><br><span role="presentation">      <span class="cm-meta">#数字签名，此处使用MD5</span></span><br><span role="presentation">      <span class="cm-variable">ssl_ciphers</span>  <span class="cm-variable">HIGH</span>:<span class="cm-operator">!</span><span class="cm-variable">aNULL</span>:<span class="cm-operator">!</span><span class="cm-variable">MD5</span>;</span><br><span role="presentation">      <span class="cm-variable">ssl_prefer_server_ciphers</span>  <span class="cm-variable">on</span>;</span><br><span role="presentation">​</span><br><span role="presentation">      <span class="cm-variable">location</span> <span class="cm-operator">/</span> {</span><br><span role="presentation">          <span class="cm-variable">root</span>   <span class="cm-operator">/</span><span class="cm-variable">root</span>;</span><br><span role="presentation">          <span class="cm-variable">index</span>  <span class="cm-variable">index</span>.<span class="cm-variable">html</span> <span class="cm-variable">index</span>.<span class="cm-variable">htm</span>;</span><br><span role="presentation">      }</span><br><span role="presentation">  }</span></pre><h2 class="md-end-block md-heading"><span class="md-plain">负载均衡</span></h2><p class="md-end-block md-p"><span class="md-plain">前面的例子中，代理仅仅指向一个服务器。</span></p><p class="md-end-block md-p"><span class="md-plain">但是，网站在实际运营过程中，大部分都是以集群的方式运行，这时需要使用负载均衡来分流。</span></p><p class="md-end-block md-p"><span class="md-plain">参考笔记文档：</span><span class="md-link md-pair-s" spellcheck="false"><a href="https://dunwu.github.io/blog/pages/98a1c1/">https://dunwu.github.io/blog/pages/98a1c1/</a></span></p><p class="md-end-block md-p"><span class="md-plain">负载均衡（Load Balance，简称 LB）是高并发、高可用系统必不可少的关键组件，目标是 </span><span class="md-pair-s"><strong><span class="md-plain">尽力将网络流量平均分发到多个服务器上，以提高系统整体的响应速度和可用性</span></strong></span><span class="md-plain">。</span></p><p class="md-end-block md-p"> </p><p class="md-end-block md-p"><span class="md-plain">负载均衡的主要作用如下：</span></p><ul class="ul-list" data-mark="-"><li class="md-list-item"><p class="md-end-block md-p"><span class="md-pair-s"><strong><span class="md-plain">高并发</span></strong></span><span class="md-plain">：负载均衡通过算法调整负载，尽力均匀的分配应用集群中各节点的工作量，以此提高应用集群的并发处理能力（吞吐量）。</span></p></li><li class="md-list-item"><p class="md-end-block md-p"><span class="md-pair-s"><strong><span class="md-plain">伸缩性</span></strong></span><span class="md-plain">：添加或减少服务器数量，然后由负载均衡进行分发控制。这使得应用集群具备伸缩性。</span></p></li><li class="md-list-item"><p class="md-end-block md-p"><span class="md-pair-s"><strong><span class="md-plain">高可用</span></strong></span><span class="md-plain">：负载均衡器可以监控候选服务器，当服务器不可用时，自动跳过，将请求分发给可用的服务器。这使得应用集群具备高可用的特性。</span></p></li><li class="md-list-item"><p class="md-end-block md-p"><span class="md-pair-s"><strong><span class="md-plain">安全防护</span></strong></span><span class="md-plain">：有些负载均衡软件或硬件提供了安全性功能，如：黑白名单处理、防火墙，防 DDos 攻击等。</span></p></li></ul><p class="md-end-block md-p"> </p><p class="md-end-block md-p"><span class="md-plain">从支持负载均衡的载体来看，可以将负载均衡分为两类：</span></p><ul class="ul-list" data-mark="-"><li class="md-list-item"><p class="md-end-block md-p"><span class="md-plain">硬件负载均衡 （功能强大，但是价格昂贵）</span></p></li><li class="md-list-item"><p class="md-end-block md-p"><span class="md-plain">软件负载均衡 （扩展性好，价格便宜，但是性能较差）</span></p></li></ul><p class="md-end-block md-p"> </p><h3 class="md-end-block md-heading"><span class="md-plain">软件负载均衡算法</span></h3><p class="md-end-block md-p"><span class="md-plain">负载均衡器的实现可以分为两个部分：</span></p><ul class="ul-list" data-mark="-"><li class="md-list-item"><p class="md-end-block md-p"><span class="md-plain">根据负载均衡算法在候选服务器列表选出一个服务器；</span></p></li><li class="md-list-item"><p class="md-end-block md-p"><span class="md-plain">将请求数据发送到该服务器上。</span></p></li></ul><p class="md-end-block md-p"><span class="md-plain">负载均衡算法是负载均衡服务核心中的核心。负载均衡产品多种多样，但是各种负载均衡算法原理是共性的</span></p><p class="md-end-block md-p"><span class="md-plain">大体上有如下算法：轮询、随机、最小活跃数、源地址哈希、一致性哈希。</span></p><p class="md-end-block md-p"> </p><p class="md-end-block md-p"><span class="md-plain">nginx 也可以实现简单http的负载均衡功能</span></p><p class="md-end-block md-p"><span class="md-image md-img-loaded" data-src="nginx学习笔记.assets/image-20231013094147094.png"><img loading="lazy" src="file:///D:/pc/Documents/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E5%88%86%E4%BA%AB%E6%96%87%E6%A1%A3/nginx/nginx%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.assets/image-20231013094147094.png?lastModify=1698128843" data-is-external-image="true" alt="image-20231013094147094"></span></p><p class="md-end-block md-p"><span class="md-plain">假设这样一个应用场景：将应用部署在 192.168.1.11:80、192.168.1.12:80、192.168.1.13:80 三台 linux 环境的服务器上。网站域名叫 </span><span class="md-meta-i-c md-link"><a spellcheck="false" href="http://www.helloworld.xn--com%2C-tt8fy44v/"><span class="md-plain">www.helloworld.com，公网</span></a></span><span class="md-plain"> IP 为 192.168.1.11。在公网 IP 所在的服务器上部署 nginx，对所有请求做负载均衡处理（下面例子中使用的是加权轮询策略）。</span></p><pre class="md-fences md-end-block ty-contain-cm modeLoaded" lang="c" spellcheck="false"><span role="presentation"><span class="cm-variable">http</span> {</span><br><span role="presentation">     <span class="cm-meta">#设定mime类型,类型由mime.type文件定义</span></span><br><span role="presentation">    <span class="cm-variable">include</span>       <span class="cm-operator">/</span><span class="cm-variable">etc</span><span class="cm-operator">/</span><span class="cm-variable">nginx</span><span class="cm-operator">/</span><span class="cm-variable">mime</span>.<span class="cm-variable">types</span>;</span><br><span role="presentation">    <span class="cm-variable">default_type</span>  <span class="cm-variable">application</span><span class="cm-operator">/</span><span class="cm-variable">octet</span><span class="cm-operator">-</span><span class="cm-variable">stream</span>;</span><br><span role="presentation">    <span class="cm-meta">#设定日志格式</span></span><br><span role="presentation">    <span class="cm-variable">access_log</span>    <span class="cm-operator">/</span><span class="cm-variable">var</span><span class="cm-operator">/</span><span class="cm-variable">log</span><span class="cm-operator">/</span><span class="cm-variable">nginx</span><span class="cm-operator">/</span><span class="cm-variable">access</span>.<span class="cm-variable">log</span>;</span><br><span role="presentation">​</span><br><span role="presentation">    <span class="cm-meta">#设定负载均衡的服务器列表</span></span><br><span role="presentation">    <span class="cm-variable">upstream</span> <span class="cm-variable">load_balance_server</span> {</span><br><span role="presentation">        <span class="cm-meta">#weigth参数表示权值，权值越高被分配到的几率越大</span></span><br><span role="presentation">        <span class="cm-variable">server</span> <span class="cm-number">192.168</span>.<span class="cm-number">1.11</span>:<span class="cm-number">80</span>   <span class="cm-variable">weight</span><span class="cm-operator">=</span><span class="cm-number">5</span>;</span><br><span role="presentation">        <span class="cm-variable">server</span> <span class="cm-number">192.168</span>.<span class="cm-number">1.12</span>:<span class="cm-number">80</span>   <span class="cm-variable">weight</span><span class="cm-operator">=</span><span class="cm-number">1</span>;</span><br><span role="presentation">        <span class="cm-variable">server</span> <span class="cm-number">192.168</span>.<span class="cm-number">1.13</span>:<span class="cm-number">80</span>   <span class="cm-variable">weight</span><span class="cm-operator">=</span><span class="cm-number">6</span>;</span><br><span role="presentation">    }</span><br><span role="presentation">​</span><br><span role="presentation">   <span class="cm-meta">#HTTP服务器</span></span><br><span role="presentation">   <span class="cm-variable">server</span> {</span><br><span role="presentation">        <span class="cm-meta">#侦听80端口</span></span><br><span role="presentation">        <span class="cm-variable">listen</span>       <span class="cm-number">80</span>;</span><br><span role="presentation">​</span><br><span role="presentation">        <span class="cm-meta">#定义使用www.xx.com访问</span></span><br><span role="presentation">        <span class="cm-variable">server_name</span>  <span class="cm-variable">www</span>.<span class="cm-variable">helloworld</span>.<span class="cm-variable">com</span>;</span><br><span role="presentation">​</span><br><span role="presentation">        <span class="cm-meta">#对所有请求进行负载均衡请求</span></span><br><span role="presentation">        <span class="cm-variable">location</span> <span class="cm-operator">/</span> {</span><br><span role="presentation">            <span class="cm-variable">root</span>        <span class="cm-operator">/</span><span class="cm-variable">root</span>;                 <span class="cm-variable">#定义服务器的默认网站根目录位置</span></span><br><span role="presentation">            <span class="cm-variable">index</span>       <span class="cm-variable">index</span>.<span class="cm-variable">html</span> <span class="cm-variable">index</span>.<span class="cm-variable">htm</span>;  <span class="cm-variable">#定义首页索引文件的名称</span></span><br><span role="presentation">            <span class="cm-variable">proxy_pass</span>  <span class="cm-variable">http</span>:<span class="cm-comment">//load_balance_server ;#请求转向load_balance_server 定义的服务器列表</span></span><br><span role="presentation">​</span><br><span role="presentation">            <span class="cm-meta">#以下是一些反向代理的配置(可选择性配置)</span></span><br><span role="presentation">            <span class="cm-meta">#proxy_redirect off;</span></span><br><span role="presentation">            <span class="cm-variable">proxy_set_header</span> <span class="cm-variable">Host</span> <span class="cm-variable">$host</span>;</span><br><span role="presentation">            <span class="cm-variable">proxy_set_header</span> <span class="cm-variable">X</span><span class="cm-operator">-</span><span class="cm-variable">Real</span><span class="cm-operator">-</span><span class="cm-variable">IP</span> <span class="cm-variable">$remote_addr</span>;</span><br><span role="presentation">            <span class="cm-meta">#后端的Web服务器可以通过X-Forwarded-For获取用户真实IP</span></span><br><span role="presentation">            <span class="cm-variable">proxy_set_header</span> <span class="cm-variable">X</span><span class="cm-operator">-</span><span class="cm-variable">Forwarded</span><span class="cm-operator">-</span><span class="cm-variable">For</span> <span class="cm-variable">$remote_addr</span>;</span><br><span role="presentation">            <span class="cm-variable">proxy_connect_timeout</span> <span class="cm-number">90</span>;          <span class="cm-variable">#nginx跟后端服务器连接超时时间</span>(<span class="cm-variable">代理连接超时</span>)</span><br><span role="presentation">            <span class="cm-variable">proxy_send_timeout</span> <span class="cm-number">90</span>;             <span class="cm-variable">#后端服务器数据回传时间</span>(<span class="cm-variable">代理发送超时</span>)</span><br><span role="presentation">            <span class="cm-variable">proxy_read_timeout</span> <span class="cm-number">90</span>;             <span class="cm-variable">#连接成功后，后端服务器响应时间</span>(<span class="cm-variable">代理接收超时</span>)</span><br><span role="presentation">            <span class="cm-variable">proxy_buffer_size</span> <span class="cm-number">4</span><span class="cm-variable">k</span>;              <span class="cm-variable">#设置代理服务器（nginx）保存用户头信息的缓冲区大小</span></span><br><span role="presentation">            <span class="cm-variable">proxy_buffers</span> <span class="cm-number">4</span> <span class="cm-number">32</span><span class="cm-variable">k</span>;               <span class="cm-variable">#proxy_buffers缓冲区，网页平均在32k以下的话，这样设置</span></span><br><span role="presentation">            <span class="cm-variable">proxy_busy_buffers_size</span> <span class="cm-number">64</span><span class="cm-variable">k</span>;       <span class="cm-variable">#高负荷下缓冲大小（proxy_buffers</span><span class="cm-operator">*</span><span class="cm-number">2</span><span class="cm-variable">）</span></span><br><span role="presentation">            <span class="cm-variable">proxy_temp_file_write_size</span> <span class="cm-number">64</span><span class="cm-variable">k</span>;    <span class="cm-variable">#设定缓存文件夹大小，大于这个值，将从upstream服务器传</span></span><br><span role="presentation">​</span><br><span role="presentation">            <span class="cm-variable">client_max_body_size</span> <span class="cm-number">10</span><span class="cm-variable">m</span>;          <span class="cm-variable">#允许客户端请求的最大单文件字节数</span></span><br><span role="presentation">            <span class="cm-variable">client_body_buffer_size</span> <span class="cm-number">128</span><span class="cm-variable">k</span>;      <span class="cm-variable">#缓冲区代理缓冲用户端请求的最大字节数</span></span><br><span role="presentation">        }</span><br><span role="presentation">    }</span><br><span role="presentation">}</span></pre><h3 class="md-end-block md-heading"><span class="md-plain">Nginx的负载均衡策略</span></h3><p class="md-end-block md-p"><span class="md-plain">轮询</span></p><pre class="md-fences md-end-block ty-contain-cm modeLoaded" lang="c" spellcheck="false"><span role="presentation"><span class="cm-variable">upstream</span> <span class="cm-variable">bck_testing_01</span> {</span><br><span role="presentation">  <span class="cm-meta"># 默认所有服务器权重为 1</span></span><br><span role="presentation">  <span class="cm-variable">server</span> <span class="cm-number">192.168</span>.<span class="cm-number">250.220</span>:<span class="cm-number">8080</span></span><br><span role="presentation">  <span class="cm-variable">server</span> <span class="cm-number">192.168</span>.<span class="cm-number">250.221</span>:<span class="cm-number">8080</span></span><br><span role="presentation">  <span class="cm-variable">server</span> <span class="cm-number">192.168</span>.<span class="cm-number">250.222</span>:<span class="cm-number">8080</span></span><br><span role="presentation">}</span></pre><p class="md-end-block md-p"><span class="md-plain">加权轮询</span></p><pre class="md-fences md-end-block ty-contain-cm modeLoaded" lang="c" spellcheck="false"><span role="presentation"><span class="cm-variable">upstream</span> <span class="cm-variable">bck_testing_01</span> {</span><br><span role="presentation">  <span class="cm-variable">server</span> <span class="cm-number">192.168</span>.<span class="cm-number">250.220</span>:<span class="cm-number">8080</span>   <span class="cm-variable">weight</span><span class="cm-operator">=</span><span class="cm-number">3</span></span><br><span role="presentation">  <span class="cm-variable">server</span> <span class="cm-number">192.168</span>.<span class="cm-number">250.221</span>:<span class="cm-number">8080</span>              <span class="cm-variable">#</span> <span class="cm-keyword">default</span> <span class="cm-variable">weight</span><span class="cm-operator">=</span><span class="cm-number">1</span></span><br><span role="presentation">  <span class="cm-variable">server</span> <span class="cm-number">192.168</span>.<span class="cm-number">250.222</span>:<span class="cm-number">8080</span>              <span class="cm-variable">#</span> <span class="cm-keyword">default</span> <span class="cm-variable">weight</span><span class="cm-operator">=</span><span class="cm-number">1</span></span><br><span role="presentation">}</span></pre><p class="md-end-block md-p"><span class="md-plain">最少连接</span></p><pre class="md-fences md-end-block ty-contain-cm modeLoaded" lang="c" spellcheck="false"><span role="presentation"><span class="cm-variable">upstream</span> <span class="cm-variable">bck_testing_01</span> {</span><br><span role="presentation">  <span class="cm-variable">least_conn</span>;</span><br><span role="presentation">​</span><br><span role="presentation">  <span class="cm-meta"># with default weight for all (weight=1)</span></span><br><span role="presentation">  <span class="cm-variable">server</span> <span class="cm-number">192.168</span>.<span class="cm-number">250.220</span>:<span class="cm-number">8080</span></span><br><span role="presentation">  <span class="cm-variable">server</span> <span class="cm-number">192.168</span>.<span class="cm-number">250.221</span>:<span class="cm-number">8080</span></span><br><span role="presentation">  <span class="cm-variable">server</span> <span class="cm-number">192.168</span>.<span class="cm-number">250.222</span>:<span class="cm-number">8080</span></span><br><span role="presentation">}</span></pre><p class="md-end-block md-p"><span class="md-plain">加权最少链接</span></p><pre class="md-fences md-end-block ty-contain-cm modeLoaded" lang="c" spellcheck="false"><span role="presentation"><span class="cm-variable">upstream</span> <span class="cm-variable">bck_testing_01</span> {</span><br><span role="presentation">  <span class="cm-variable">least_conn</span>;</span><br><span role="presentation">​</span><br><span role="presentation">  <span class="cm-variable">server</span> <span class="cm-number">192.168</span>.<span class="cm-number">250.220</span>:<span class="cm-number">8080</span>   <span class="cm-variable">weight</span><span class="cm-operator">=</span><span class="cm-number">3</span></span><br><span role="presentation">  <span class="cm-variable">server</span> <span class="cm-number">192.168</span>.<span class="cm-number">250.221</span>:<span class="cm-number">8080</span>              <span class="cm-variable">#</span> <span class="cm-keyword">default</span> <span class="cm-variable">weight</span><span class="cm-operator">=</span><span class="cm-number">1</span></span><br><span role="presentation">  <span class="cm-variable">server</span> <span class="cm-number">192.168</span>.<span class="cm-number">250.222</span>:<span class="cm-number">8080</span>              <span class="cm-variable">#</span> <span class="cm-keyword">default</span> <span class="cm-variable">weight</span><span class="cm-operator">=</span><span class="cm-number">1</span></span><br><span role="presentation">}</span></pre><p class="md-end-block md-p"><span class="md-plain">IP Hash</span></p><pre class="md-fences mock-cm md-end-block" lang="c" spellcheck="false">upstream bck_testing_01 {

  ip_hash;

  # with default weight for all (weight=1)
  server 192.168.250.220:8080
  server 192.168.250.221:8080
  server 192.168.250.222:8080

}</pre><p class="md-end-block md-p"><span class="md-plain">普通哈希</span></p><pre class="md-fences mock-cm md-end-block" lang="c" spellcheck="false">upstream bck_testing_01 {

  hash $request_uri;

  # with default weight for all (weight=1)
  server 192.168.250.220:8080
  server 192.168.250.221:8080
  server 192.168.250.222:8080

}</pre><h2 class="md-end-block md-heading"><span class="md-plain">静态资源服务器</span></h2><p class="md-end-block md-p"><span class="md-plain">有时候，我们需要配置静态站点(即 html 文件和一堆静态资源)。</span></p><p class="md-end-block md-p"><span class="md-plain">举例来说：如果所有的静态资源都放在了 </span><span class="md-pair-s" spellcheck="false"><code>/app/dist</code></span><span class="md-plain"> 目录下，我们只需要在 </span><span class="md-pair-s" spellcheck="false"><code>nginx.conf</code></span><span class="md-plain"> 中指定首页以及这个站点的 host 即可。</span></p><pre class="md-fences mock-cm md-end-block" lang="c" spellcheck="false">worker_processes  1;

events {
	worker_connections  1024;
}

http {
    include       mime.types;
    default_type  application/octet-stream;
    sendfile        on;
    keepalive_timeout  65;

    gzip on;
    gzip_types text/plain application/x-javascript text/css application/xml text/javascript application/javascript image/jpeg image/gif image/png;
    gzip_vary on;

    server {
		listen       80;
		server_name  static.zp.cn;

		location / {
			root /app/dist;
			index index.html;
			#转发任何请求到 index.html
		}
	}
}</pre></div></div></div><footer class="wrapper post__footer"><p class="post__last-updated">This article was updated on October 24, 2023</p><div class="post__share"></div><div class="post__bio bio"><div class="bio__info"><h3 class="bio__name"><a href="https://github.com/wangxxss/WX-Dev-Diary/authors/wxxss/" rel="author">wxxss</a></h3></div></div></footer></article></main><footer class="footer"><div class="footer__copyright">Powered by Publii</div><button onclick="backToTopFunction()" id="backToTop" class="footer__bttop" aria-label="Back to top" title="Back to top"><svg><use xlink:href="https://github.com/wangxxss/WX-Dev-Diary/assets/svg/svg-map.svg#toparrow"/></svg></button></footer></div><script defer="defer" src="https://github.com/wangxxss/WX-Dev-Diary/assets/js/scripts.min.js?v=f47c11534595205f20935f0db2a62a85"></script><script>window.publiiThemeMenuConfig={mobileMenuMode:'sidebar',animationSpeed:300,submenuWidth: 'auto',doubleClickTime:500,mobileMenuExpandableSubmenus:true,relatedContainerForOverlayMenuSelector:'.top'};</script><script>var images = document.querySelectorAll('img[loading]');

        for (var i = 0; i < images.length; i++) {
            if (images[i].complete) {
                images[i].classList.add('is-loaded');
            } else {
                images[i].addEventListener('load', function () {
                    this.classList.add('is-loaded');
                }, false);
            }
        }</script></body></html>